<div class="admin-title">
    <h2>Posts</h2>
    <a href="/add-post" class="btn">Add New Post</a>
</div>

<% if (typeof data !=='undefined' ) { %>
    <ul class="admin-posts">
        <% data.forEach(post => { %>
            <li>
                <a href="/posts/<%= post._id %>">
                    <%= post.title %> &nearr;
                </a>

                <div class="admin-post-controls">
                    <a href="/edit-post/<%= post._id %>" class="btn">Edit</a>
                
                    <button type="button" class="btn openDeleteModal" data-post-id="<%= post._id %>">Delete</button>
        
                    <div id="deleteModal-<%= post._id %>" class="modal">
                        <div class="modal-content">
                            <span class="close" data-post-id="<%= post._id %>">&times;</span>
                            <h2>Are you sure you want to delete this post?</h2>
                            <form id="deleteForm-<%= post._id %>" action="/delete-post/<%= post._id %>?_method=DELETE" method="POST">
                                <button type="button" class="btn confirmDelete" data-post-id="<%= post._id %>">Yes, Delete</button>
                                <button type="button" class="btn cancelDelete" data-post-id="<%= post._id %>">Cancel</button>
                            </form>
                        </div>
                    </div>
                </div>
            </li>
        <% }) %>
    </ul>
<% } else { %>
    <h3>
        <%= error.message %>
    </h3>
<% } %>
